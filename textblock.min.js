/*! textblock 2019-03-27 */
window.Textblock = function(a) {
  function b() {
    h(a, function(a) {
      var b = e(a);
      h(i(b.target), function(a) {
        var d = c(a, b);
        if (d) {
          var e = b.units || b.fontSize_units;
          (a.style.fontSize = d.fontSize + e),
            (a.style.lineHeight = d.lineHeight),
            (a.style.fontVariationSettings = d.fontVariationSettings);
        }
      });
    });
  }
  function c(a, b) {
    if (a) {
      var c = b.minWidth,
        e = b.maxWidth,
        f = b.container,
        g = b.minFontSize || b.minWidthFontSize || b.minWidth_FontSize,
        h = b.maxFontSize || b.maxWidthFontSize || b.maxWidth_FontSize,
        i = b.minLineHeight || b.minWidthLineHeight || b.minWidth_LineHeight,
        k = b.maxLineHeight || b.maxWidthLineHeight || b.maxWidth_LineHeight,
        l =
          b.minVariableGrade ||
          b.minWidthVariableGrade ||
          b.minWidth_VariableGrade,
        m =
          b.maxVariableGrade ||
          b.maxWidthVariableGrade ||
          b.maxWidth_VariableGrade,
        n = j('self' === f ? a : a.parentNode),
        o = Math.min(Math.max(n, c), e),
        p = (o - c) / (e - c);
      return {
        fontSize: d(g, h, p),
        lineHeight: d(i, k, p),
        fontVariationSettings: '"wght" ' + d(l, m, p)
      };
    }
  }
  function d(a, b, c) {
    return a + (b - a) * c;
  }
  function e(a) {
    var b = {
      minWidth: 320,
      maxWidth: 960,
      minWidth_FontSize: 1,
      maxWidth_FontSize: 1.8,
      minWidth_LineHeight: 1.33,
      maxWidth_LineHeight: 1.25,
      container: 'parent',
      fontSize_units: 'em'
    };
    return Object.assign(b, a);
  }
  function f(a) {
    function b() {
      'complete' === document.readyState ||
      ('loading' !== document.readyState && !document.documentElement.doScroll)
        ? a && a()
        : document.addEventListener('DOMContentLoaded', function() {
            a && a();
          });
    }
    function c() {
      document.attachEvent('onreadystatechange', function() {
        'complete' === document.readyState &&
          (document.detachEvent('onreadystatechange', arguments.callee),
          a && a());
      });
    }
    document.addEventListener ? b() : document.attachEvent && c();
  }
  function g(a) {
    window.attachEvent
      ? window.attachEvent('onresize', function() {
          a && a();
        })
      : window.addEventListener &&
        window.addEventListener(
          'resize',
          function() {
            a && a();
          },
          !0
        );
  }
  function h(a, b) {
    for (var c = 0; c < a.length; c++) b && b(a[c], c);
  }
  function i(a) {
    return document.querySelectorAll(a);
  }
  function j(a) {
    var b = parseInt(k(a, 'padding-left')) + parseInt(k(a, 'padding-right')),
      c =
        parseInt(k(a, 'border-left-width')) +
        parseInt(k(a, 'border-right-width'));
    return a.offsetWidth - b - c;
  }
  function k(a, b) {
    return window.getComputedStyle
      ? window.getComputedStyle(a, null).getPropertyValue(b)
      : a.currentStyle[b];
  }
  f(function() {
    b(), g(b);
  });
};
